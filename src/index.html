<!DOCTYPE html>
<html color-mode="user">
  <title>Sakura BOOST (test)</title>
  <head>
    <script type="module" src="./main.js"></script>
    


    <link rel="stylesheet" href="https://unpkg.com/mvp.css@1.12/mvp.css"> 

  </head>
  <body x-data>


    <nav>
      <a x-link href="/"><img alt="Logo" src="./logo.png" height="70"></a>
      <ul>
        <li><a x-link href="/">SakuraAuction</a></li>
        <li><a x-link href="/features">Features</a></li>
        <li><a x-link href="/pricing">Pricing</a></li>
        <li><a x-link href="/account">Account</a></li>
        <li><a x-link href="/settings">Settings</a></li>
        <li><a x-link href="/offer/122">Offer 122</a></li>
      </ul>
    </nav>

    

    

    

    <template x-route="/">
      <header>
      <h1>Sell your physical goods via livestream</h1>
      <img src="https://placehold.co/720x480?text=placeholder-for-video-of-chatbot">
      <p><a x-bind:href="`${Alpine.store('env').backend}/api/connect/twitch`"><b>Get Started</b></a></p>
      </header>
    </template>

    <template x-route="/features">
      <div>
        <header><h1>Features</h1></header>
        <section>
          <div>
            <ul>
              <li>Dutch Auctions in chat</li>
            </ul>
          </div>
        </section>
      </div>
    </template>

    <template x-route="/pricing">
      <div>
        <header><h1>Pricing</h1></header>
        <section>
          <aside>
            <h2>Test Drive</h2>
            <p>$0.00 per month</p>
            <p>Limited to 7 auctions per month</p>
            <p>Basic support</p>
          </aside>
          <aside>
            <h2>Pro</h2>
            <p>$19.99 per month</p>
            <p>✓ Unlimited auctions</p>
            <p>✓ Priority support</p>
          </aside>
        </section>
      </div>
    </template>

    <template x-route="/account">
      <div x-data="auth">
        <header>
          <h1>Account</h1>
          <div x-show="(Alpine.store('auth').jwt === '')">
            <a
              x-bind:href="`${window.backend}/api/connect/twitch`" 
              class="button"
            >
              <b>Log In</b>
            </a>
          </div>
        </header>
        <div x-show="isLoggedIn">
          <section>
            <div>
              <h2><span x-text="username"></span> <a  x-link href="#" x-on:click="logOut">logout</a></h2>
            </div>
          </section>
          <hr>
          <section>
            <div x-data="account">
              <h2>Offers Won</h2>
              <template x-for="offer in offers">
                <ul>
                  <li>
                    <a x-link x-bind:href="getOfferUrl(offer)"><span x-text="offer.attributes.title"></span></a>
                  </li>
                </ul>
              </template>
            </div>  
          </section>
          <hr>

      </div>
    </template>


    <template x-route="/settings">
      <div x-data="settings">
        <header><h1>Settings</h1></header>
        <section>
          <div>
            <h2>SakuraBot</h2>
            <input id="optForBot" type="checkbox">
            <label for="optForBot">Add SakuraAuction bot to my channel</label>
          </div>
        </section>
        <hr>
        <section>
          <div>
            <h2>Dutch Auction</h2>
            <label for="duration">Duration</label>
            <input x-model="auctionDuration" type="range" id="duration" name="duration" min="10" max="300" />
            <span x-text="formatDuration(auctionDuration)"></span>
          </div>
        </section>
        <hr>
        <section>
          <div>
            <h2>Paypal Integration</h2>
            <button x-on:click="connectPaypal">Connect to Paypal</button>
          </div>
        </section>
      </div>
    </template>

    <template x-route="/card_condition_guide">
      <div x-data="conditionGuide">
        <main>
          <section>
            <template x-for="condition in conditions">
              <aside>
                <div>
                  <img x-bind:src="condition.image" />
                  <h3 x-text="condition.name"></h3>
                  <p x-text="condition.description"></p>
                </div>
              </aside>
            </template>
          </section>
        </main>
      </div>
    </template>


    <template x-route="/setlist">
      <main><h1>See <a x-link href="/pm/setlist">/pm/setlist</a></h1></main>
    </template>

    <template x-route="/pm/setlist">
      <div x-data="setlist">
        <section>
          <header>
            <h1>Precious Memories TCG Setlist</h1>
            <p><i>Alphebetized by set abbreviation.</i></p>
          </header>
          <table>
            <thead>
              <tr>
                <th>名前 (name)</th>
                <th>Abbr</th>
                <th>Name</th>
                <th>Release Date</th>
              </tr>
            </thead>
            <tbody>
              <template x-for="set in sets">
                <tr>
                  <td x-text="set.jpName"></td>
                  <td x-text="set.abbr"></td>
                  <td x-text="set.enName"></td>
                  <td x-text="set.releaseDate"></td>
                </tr>
              </template>
            </tbody>
          </table>
        </section>
      </div>
    </template>

    <template x-route="/connect/redirect">
      <div x-data="auth">
        <template x-for="err in errors">
          <article>
            <aside>
              <p x-text="err"></p>
            </aside>
          </article>
        </template>
        <p>Redirecting...</p>
      </div>
    </template>

    <template x-route="/offer/:id">
      <div x-data="offer">
        <template x-if="!isOffer()">
          <div>
            <header>
              <p>Offer ID <span x-text="id"></span> not found</p>
            </header>
          </div>
        </template>
        <template x-if="isOffer()">
          <div>
            <header>
              <h1 x-text="offers[0].title"></h1>
              <p><i x-text="formatMoney(offers[0].priceCents)"></i></p>
              <p>Won by <b x-bind:style="{ color: offers[0].winnerColor }" x-text="offers[0].winnerName"></b></p>
              <!-- * [ ] Authenticated user who is not the winner sees no button -->
              <!-- * [x] Only unauthenticated user sees the log in button -->
              <a
                x-bind:href="`${Alpine.store('env').backend}/api/connect/twitch`" 
                x-show="$store.auth.jwt===''" 
                class="button"
              >
                Log In To Buy
              </a>
              <!-- * [ ] Only the winner sees the buy button -->


              <figure>
                <img x-bind:src="offers[0].image" />
              </figure>


              <template 
                x-if="isWinner" 
              >
                <div>
                  <p>Paid:<span x-text="isPaid"></span></p>
                  <section x-show="isMultiple">
                    <header>
                      <h2>Additional offers won</h2>
                    </header>
                    <template x-for="offer in offers.slice(1)">
                      <aside>
                        <h3><a x-text="offer.title" x-bind:href="getOfferUrl(offer.id)"></a></h3>
                        <p x-text="formatMoney(offer.priceCents)"></p>
                      </aside>
                    </template>
                  </section>
                  <section>
                    <h2>Shipping</h2>
                    
                    <p>USPS First Class Mail $3.42</p>

                  </section>
                  <section>
                    <h2>Order Total</h2>
                    <p style="font-size: 18pt;"><mark x-text="totalPrice"></mark></p>
                  </section>
                  <div id="paypal-buttons-container"></div>
                </div>
              </template>
            </header>


          </div>
        </template>
      </div>

    </template>


  </body>
</html>